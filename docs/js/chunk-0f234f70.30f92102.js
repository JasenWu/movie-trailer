(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0f234f70"],{"45bb":function(t,s,i){"use strict";var a=i("67b2"),e=i.n(a);e.a},"67b2":function(t,s,i){},def6:function(t,s,i){"use strict";i.r(s);var a=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("Transition",{attrs:{name:"fade"}},[i("div",{staticClass:"movie"},[i("div",{staticClass:"player-wrapper",on:{touchmove:function(t){t.preventDefault()}}},[i("div",{ref:"player",staticClass:"player"}),i("i",{staticClass:"iconfont icon-left",on:{click:function(s){return t.$router.back()}}})]),i("div",{staticClass:"info-wrapper"},[i("ScrollView",{attrs:{data:t.relativeMovies}},[t.movie.title?i("section",{staticClass:"info"},[i("div",{staticClass:"title"},[t._v(t._s(t.movie.title))]),i("div",{staticClass:"descript"},[t._v(t._s(t.desc))]),i("div",{staticClass:"switch-wrapper",on:{click:t.toggleLayer}},[i("span",[t._v("简介")]),i("i",{staticClass:"iconfont icon-right"})])]):t._e(),i("Spacing",{attrs:{height:10,"bg-color":"#f9f9f9"}}),t.relativeMovies?i("section",{staticClass:"relative-movies"},[i("h1",{staticClass:"text"},[t._v("相关推荐")]),i("div",{staticClass:"list"},t._l(t.relativeMovies,(function(s){return i("div",{key:s._id,staticClass:"item",on:{click:function(i){return t.goToDetail(s._id)}}},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:s.poster,expression:"item.poster"}],attrs:{width:"56",height:"80"}}),i("div",{staticClass:"desc"},[i("p",{staticClass:"title"},[t._v(t._s(s.title))]),1===s.isPlay?i("div",{staticClass:"rate"},[i("span",[t._v("豆瓣评分: ")]),i("span",{staticClass:"text"},[t._v(t._s(s.rate||"暂无"))])]):i("p",{staticClass:"pubdate"},[i("span",[t._v("上映时间: ")]),i("span",[t._v(t._s(s.pubdate.replace("(中国大陆)","")))])]),i("p",[t._v("类型: "+t._s(s.movieTypes.join("/")))])])])})),0)]):t._e(),t.relativeMovies?t._e():i("div",{staticClass:"loading-wrap"},[i("Loading")],1)],1),i("Transition",{attrs:{name:"layer"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"layer-wrapper"},[i("div",{staticClass:"title"},[i("span",{staticClass:"text"},[t._v(t._s(t.movie.title))]),i("i",{staticClass:"iconfont icon-down",on:{click:t.toggleLayer}})]),t.movie.title?i("div",{staticClass:"desc"},[i("div",{staticClass:"descript"},[0!==t.movie.rate?i("div",{staticClass:"star item"},[i("span",{staticClass:"name"},[t._v("评分: ")]),i("span",{staticClass:"text"},[t._v(t._s(t.movie.rate))])]):i("div",{staticClass:"pubdate item"},[i("span",{staticClass:"name"},[t._v("上映时间: ")]),i("span",{staticClass:"text"},[t._v(t._s(t.pubdate))])]),i("div",{staticClass:"author item"},[i("span",{staticClass:"name"},[t._v("导演: ")]),i("span",{staticClass:"text"},[t._v(t._s(t.movie.author))])]),i("div",{staticClass:"cast item"},[i("span",{staticClass:"name"},[t._v("影人: ")]),i("span",{staticClass:"text"},[t._v(t._s(t.casts))])]),i("div",{staticClass:"category item"},[i("span",{staticClass:"name"},[t._v("类型: ")]),i("span",{staticClass:"text"},[t._v(t._s(t.movie.movieTypes.join("·")))])])]),i("div",{staticClass:"casts"},t._l(t.movie.casts,(function(s){return i("div",{key:s._id,staticClass:"cast"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:s.avatar,expression:"item.avatar"}],staticClass:"img"}),i("h3",{staticClass:"name"},[t._v(t._s(s.name))])])})),0),i("div",{staticClass:"summary"},[i("h1",{staticClass:"title"},[t._v("简介")]),i("span",{staticClass:"text"},[t._v(t._s(t.movie.summary))])])]):t._e()])])],1)])])},e=[],n=(i("7f7f"),i("a481"),{name:"Movie",data:function(){return{movie:{},relativeMovies:[],isShow:!1}},beforeRouteUpdate:function(t,s,i){i(),this.getDetail()},computed:{desc:function(){var t=this.movie.duration||this.movie.pubdate.replace("(中国大陆)",""),s=this.movie.rate?"".concat(this.movie.rate,"分"):"即将上映";return"".concat(s," · ").concat(this.movie.movieTypes.join("/")," · ").concat(t)},casts:function(){var t=this.movie.casts;return t.map((function(t){return t.name})).join("/")}},created:function(){this.getDetail()},methods:{getDetail:function(){var t=this,s=this.$route.params.id;this.$axios.get("/api/movie/get_detail/".concat(s)).then((function(s){1001===s.code&&(t.movie=s.result.movie,t.relativeMovies=s.result.relativeMovies,t.initPlayer())}))},toggleLayer:function(){this.isShow=!this.isShow},goToDetail:function(t){this.$router.replace("/movie/".concat(t))},initPlayer:function(){var t=window,s=t.DPlayer;this.player=new s({container:this.$refs.player,video:{url:this.movie.video,pic:this.movie.cover}})}}}),c=n,o=(i("45bb"),i("2877")),l=Object(o["a"])(c,a,e,!1,null,"22749033",null);s["default"]=l.exports}}]);
//# sourceMappingURL=chunk-0f234f70.30f92102.js.map